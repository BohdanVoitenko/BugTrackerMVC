@{
    ViewBag.Title = "Project Info";
    int projectId = ViewBag.ProjectId;
    int ticketPos = ViewBag.TicketPosition ?? 0;
}



<!--<input hidden value="@projectId"/>
<div class="container" style="margin-top:100px;">
    <div class="row justify-content-around">
        <div class="col-4 border rounded" style="max-height:240px; position:relative; width:auto">
            <div class="row">
                <div class="col">
                    <p class="mt-2">Team</p>
                </div>
                <div class="col">
                    <button class="btn btn-primary btn-sm mt-2" data-bs-toggle="modal" data-bs-target="#addTeamMemberModal" style="font-size:12px; float:right">Add</button>
                </div>
            </div>
            <table class="table">
                <thead>
                    <tr class="text-muted" style="font-size:12px;">
                        <td>
                            NAME
                        </td>
                        <td>
                            EMAIL
                        </td>
                        <td>
                            PHONE
                        </td>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var user in ViewBag.Users)
                    {
                        <tr style="font-size:12px;">
                            <td>
                                @user.UserName
                            </td>
                            <td>
                                @user.Email
                            </td>
                            <td>
                                @user.PhoneNumber
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
            <div style="position:absolute; bottom:0px;">
                <nav aria-label="Page navigation example">
                    <ul class="pagination pagination-sm">
                        @for (int i = 0; i < ViewBag.UsersCount; i++)
                        {
                            int navVar = i + 1;
                            <li class="page-item"><a class="page-link" asp-controller="Home" asp-action="ProjectInfo" asp-route-id="@projectId" asp-route-usersPageIndex="@i">@navVar</a></li>
                        }
                    </ul>
                </nav>
            </div>
        </div>
        <div class="col-7 border rounded" style="max-height:auto;">
            <div class="row">
                <div class="col">
                    <p class="pt-2">Tickets</p>
                </div>
                <div class="col">
                    <button class="btn btn-primary btn-sm mt-2" data-bs-toggle="modal" data-bs-target="#addTicketModal" style="font-size:12px; width:auto; float:right">New Ticket</button>
                </div>
            </div>
            <table class="table">
                <thead>
                    <tr class="text-muted" style="font-size:12px">
                        <td>
                            TICKET TITLE
                        </td>
                        <td>
                            DESCRIPTION
                        </td>
                        <td>
                            TICKET STATUS
                        </td>
                    </tr>
                </thead>
                <tbody>-->
                    @*@foreach (var ticket in ViewBag.Tickets)
                    {
                        <tr style="font-size:12px;" scope="row" id="clickable-row" onclick="@ticketId = @ticket.Id">
                            <td>
                                @ticket.Title
                            </td>
                            <td>
                                @ticket.Description
                            </td>
                            <td>
                                @ticket.Status
                            </td>
                        </tr>
                    }*@
                    <!--@for(int i = 0; i < ViewBag.Tickets.Count; i++)
                    {
                    <tr style="font-size:12px;" scope="row" id="clickable-row">
                        <input id="hiddenElement" hidden value="@i"/>
                        <td>
                            @ViewBag.Tickets[i].Title
                        </td>
                        <td>
                            @ViewBag.Tickets[i].Description
                        </td>
                        <td>
                            @ViewBag.Tickets[i].Status
                        </td>
                    </tr>
                    }
                </tbody>
            </table>
            <div>
                <nav aria-label="Page navigation example">
                    <ul class="pagination pagination-sm">
                        @for (int i = 0; i < ViewBag.TicketsCount; i++)
                            {
                                int navVar = i + 1;
                            <li class="page-item"><a class="page-link" asp-controller="Home" asp-action="ProjectInfo" asp-route-id="@projectId" asp-route-ticketsPageIndex="@i">@navVar</a></li>
                        }
                    </ul>
                </nav>
            </div>
        </div>
    </div>
</div>

<div class="container border rounded">
    <h5>Selected Ticket Info</h5>
    <div class="row justify-content-around">
        <div class="col-sm-6 border rounded">
            <h5>Info</h5>
            @ViewBag.Tickets[ticketPos].Title
        </div>
        <div class="col-sm-5 border rounded">
            <h5>Comments</h5>
        </div>
    </div>
</div>


<div class="modal fade" id="addTeamMemberModal" tabindex="-1" aria-labelledby="addTeamMemberModallLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-sm">
        <div class="modal-content">
            <partial name="_addTeamMemberPartialView"></partial>
        </div>
    </div>
</div>

<div class="modal fade" id="addTicketModal" tabindex="-1" aria-labelledby="addTicketModallLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <partial name="_addTicketPartialView"></partial>
        </div>
    </div>
</div>-->


@*<script type="text/javascript">
    $(document).ready(function () {
        $('#clickable-row').click(function () {
            var ticketPosition = $('#hiddenElement').val();


            $.ajax(
                {
                    type: "POST",
                    url: "Home/ProjectInfo",
                    data: ticketPosition
                    }
                });
        });
    });
</script>

@section Scripts{
    <script type="text/javascript">
        $(document).ready(function () {
            $('$clickable-row').click(function () {
                $.ajax({
                    type: "POST",
                    url: "Home/TicketInfo",
                    data: $('#hiddenElement').serialize(),
                    success: function (partialView) {
                        $()
                    }
                });
            });
        });
    </script>
}*@